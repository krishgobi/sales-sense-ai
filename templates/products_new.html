{% extends "base.html" %}

{% block title %}Products - Sales Sense AI{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="flex justify-between items-center mb-4">
    <div>
        <h1 style="font-size: 2rem; font-weight: 700; color: var(--gray-900); margin-bottom: 0.25rem;">
            Products
        </h1>
        <p class="text-muted">Browse our product catalog</p>
    </div>
</div>

<!-- Filters -->
<div class="card mb-4">
    <div class="grid grid-2 gap-2" style="padding: 1rem;">
        <div class="form-group" style="margin-bottom: 0;">
            <input 
                type="text" 
                id="searchInput" 
                class="form-input" 
                placeholder="Search products..."
            >
        </div>
        <div class="form-group" style="margin-bottom: 0;">
            <select id="categoryFilter" class="form-select">
                <option value="">All Categories</option>
            </select>
        </div>
    </div>
</div>

<!-- Products Grid -->
<div class="grid grid-3" id="productsGrid">
    {% for product in products %}
    <div class="card product-card" 
         data-category="{{ product.category }}" 
         data-name="{{ product.name }}">
        <div class="flex justify-between items-start mb-2">
            <h3 class="card-title" style="margin-bottom: 0;">{{ product.name }}</h3>
            <span class="badge" style="background: var(--primary); color: white; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem;">
                {{ product.category }}
            </span>
        </div>
        
        <p class="card-text mb-3">{{ product.description or 'No description available' }}</p>
        
        <div class="flex justify-between items-center mb-3">
            <div>
                <div class="text-muted" style="font-size: 0.875rem;">Price</div>
                <div class="fw-bold" style="font-size: 1.5rem; color: var(--primary);">
                    ${{ "%.2f"|format(product.price) }}
                </div>
            </div>
            <div class="text-center">
                <div class="text-muted" style="font-size: 0.875rem;">Stock</div>
                <div class="fw-semibold" style="font-size: 1.25rem; color: {{ 'var(--secondary)' if product.stock > 10 else 'var(--danger)' }};">
                    {{ product.stock }}
                </div>
            </div>
        </div>
        
        <button class="btn btn-primary" style="width: 100%;" onclick="addToCart('{{ product._id }}')">
            <i class="fas fa-cart-plus"></i>
            Add to Cart
        </button>
    </div>
    {% else %}
    <div class="card text-center" style="grid-column: 1 / -1;">
        <i class="fas fa-box-open" style="font-size: 3rem; color: var(--gray-400); margin-bottom: 1rem;"></i>
        <p class="text-muted">No products available</p>
    </div>
    {% endfor %}
</div>

<script>
function addToCart(productId) {
    showSuccess('Product added to cart!');
    // Implement cart functionality here
}
</script>
{% endblock %}
